<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Portfolio - Sanmayi Andhaluri</title>
  <meta name="viewport" content="width=1123, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      background: #eaeaea;
    }
    header {
      margin: 1.5em 0 2em 2em;
    }
    .portfolio-page {
      width: 1123px;
      height: 794px;
      margin: 40px auto;
      background: #fff;
      box-shadow: 0 0 10px rgba(0,0,0,0.12);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      page-break-after: always;
      position: relative;
      overflow: hidden;
    }
    .portfolio-title {
      font-size: 2.5em;
      margin-bottom: 0.5em;
    }
    .portfolio-content {
      flex: 1;
      width: 90%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 1.3em;
      position: relative;
    }
    .drop-area {
      border: 2.5px dashed #73a2c6;
      border-radius: 16px;
      background: #f4faff;
      min-height: 220px;
      width: 90%;
      margin: 1.2em 0 0.7em 0;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
      transition: border-color 0.2s, background 0.2s;
    }
    .drop-area.dragover {
      border-color: #3b7ec7;
      background: #e9f3ff;
    }
    .drop-area img.uploaded-image {
      max-width: 98%;
      max-height: 210px;
      border-radius: 10px;
      margin: 0.7em 0;
      box-shadow: 0 2px 10px rgba(80,130,180,0.07);
      display: block;
    }
    .drop-area .placeholder {
      color: #8fa1b8;
      font-size: 1.1em;
      text-align: center;
      user-select: none;
      padding: 1.2em 0.5em;
    }
    .remove-img-btn {
      display: inline-block;
      background: #f45d5d;
      color: #fff;
      border: none;
      font-size: 1.1em;
      border-radius: 7px;
      padding: 0.25em 1.1em;
      cursor: pointer;
      margin: 0.7em 0 0 0;
      transition: background 0.18s;
      position: absolute;
      top: 10px;
      right: 12px;
      z-index: 2;
      opacity: 0.93;
      box-shadow: 0 2px 4px rgba(200,30,30,0.13);
    }
    .remove-img-btn:hover {
      background: #c33c3c;
    }
    /* Responsive for small screens */
    @media (max-width: 1200px) {
      .portfolio-page {
        width: 97vw;
        height: auto;
      }
    }
    @media (max-width: 700px) {
      .portfolio-page {
        width: 99vw;
        min-height: 80vw;
        margin: 8vw auto;
        padding: 0.5em 0.2em;
      }
      .portfolio-content {
        font-size: 1em;
      }
      .drop-area {
        min-height: 110px;
      }
    }
    @media print {
      body {
        background: none;
      }
      .portfolio-page {
        box-shadow: none;
        margin: 0;
      }
      .drop-area, .remove-img-btn {
        display: none !important;
      }
      .uploaded-image {
        max-height: 260px !important;
        max-width: 90% !important;
        display: block !important;
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html" style="margin: 1em; display: inline-block;">‚Üê Back to Home</a>
  </header>
  <div id="portfolio-container">
    <!-- Pages will be generated by JS -->
  </div>
  <script>
    // Number of pages
    const NUM_PAGES = 20;
    const container = document.getElementById('portfolio-container');

    // Load saved images from localStorage for each page
    function getSavedImage(pageNum) {
      return localStorage.getItem('portfolio_img_' + pageNum);
    }

    function setSavedImage(pageNum, dataUrl) {
      if (dataUrl)
        localStorage.setItem('portfolio_img_' + pageNum, dataUrl);
      else
        localStorage.removeItem('portfolio_img_' + pageNum);
    }

    // Create 20 pages with drag-and-drop/image upload per page
    for (let i = 1; i <= NUM_PAGES; i++) {
      const page = document.createElement('section');
      page.className = 'portfolio-page';
      page.innerHTML = `
        <div class="portfolio-title">Project Page ${i}</div>
        <div class="portfolio-content">
          <div class="drop-area" data-page="${i}">
            <div class="placeholder">
              <b>Drag & Drop</b> an image here, or click to select.<br>
              <span style="font-size:0.93em;">(JPG, PNG, GIF &lt;5MB, will be visible only on this device)</span>
            </div>
            <input type="file" accept="image/*" style="display:none;">
          </div>
          <div style="margin-top:0.6em;min-height:2em;">
            <p>Add your project description, images, and details for page ${i} here.</p>
          </div>
        </div>
      `;
      container.appendChild(page);
    }

    // Drag and drop logic for all drop areas
    document.querySelectorAll('.drop-area').forEach(function(dropArea) {
      const pageNum = dropArea.getAttribute('data-page');
      const input = dropArea.querySelector('input[type="file"]');

      // Restore saved image if any
      const saved = getSavedImage(pageNum);
      if (saved) {
        renderImage(dropArea, saved, pageNum);
      }

      dropArea.addEventListener('click', function(e) {
        if (e.target.classList.contains('remove-img-btn')) return;
        input.click();
      });

      input.addEventListener('change', function() {
        if (input.files && input.files[0]) {
          handleImageFile(input.files[0], dropArea, pageNum);
        }
      });

      // Drag events
      dropArea.addEventListener('dragover', function(e) {
        e.preventDefault();
        dropArea.classList.add('dragover');
      });
      dropArea.addEventListener('dragleave', function(e) {
        dropArea.classList.remove('dragover');
      });
      dropArea.addEventListener('drop', function(e) {
        e.preventDefault();
        dropArea.classList.remove('dragover');
        const file = e.dataTransfer.files[0];
        if (file) handleImageFile(file, dropArea, pageNum);
      });
    });

    function handleImageFile(file, dropArea, pageNum) {
      if (!file.type.startsWith('image/')) {
        alert('Only image files are allowed.');
        return;
      }
      if (file.size > 5 * 1024 * 1024) {
        alert('Image is too large. Max 5MB.');
        return;
      }
      const reader = new FileReader();
      reader.onload = function(e) {
        setSavedImage(pageNum, e.target.result);
        renderImage(dropArea, e.target.result, pageNum);
      };
      reader.readAsDataURL(file);
    }

    function renderImage(dropArea, dataUrl, pageNum) {
      // Remove old content
      dropArea.innerHTML = '';
      // Remove button
      const removeBtn = document.createElement('button');
      removeBtn.textContent = "Remove Image";
      removeBtn.className = "remove-img-btn";
      removeBtn.onclick = function(e) {
        e.stopPropagation();
        setSavedImage(pageNum, null);
        dropArea.innerHTML = `
          <div class="placeholder">
            <b>Drag & Drop</b> an image here, or click to select.<br>
            <span style="font-size:0.93em;">(JPG, PNG, GIF &lt;5MB, will be visible only on this device)</span>
          </div>
          <input type="file" accept="image/*" style="display:none;">
        `;
        // Re-attach logic for new input and droppable area
        const input = dropArea.querySelector('input[type="file"]');
        dropArea.addEventListener('click', function(e) {
          if (e.target.classList.contains('remove-img-btn')) return;
          input.click();
        });
        input.addEventListener('change', function() {
          if (input.files && input.files[0]) {
            handleImageFile(input.files[0], dropArea, pageNum);
          }
        });
        dropArea.addEventListener('dragover', function(e) {
          e.preventDefault();
          dropArea.classList.add('dragover');
        });
        dropArea.addEventListener('dragleave', function(e) {
          dropArea.classList.remove('dragover');
        });
        dropArea.addEventListener('drop', function(e) {
          e.preventDefault();
          dropArea.classList.remove('dragover');
          const file = e.dataTransfer.files[0];
          if (file) handleImageFile(file, dropArea, pageNum);
        });
      };
      dropArea.appendChild(removeBtn);

      // Image element
      const img = document.createElement('img');
      img.className = 'uploaded-image';
      img.src = dataUrl;
      img.alt = "Uploaded project image";
      dropArea.appendChild(img);
    }
  </script>
</body>
</html>
